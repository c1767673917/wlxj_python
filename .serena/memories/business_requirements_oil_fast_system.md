# 业务类型改造需求规格

## 项目改造概述
将现有的用户隔离数据模式改为业务类型共享数据模式，支持油脂和快消两种业务类型。

## 核心需求
1. **业务类型分类**：普通账号分为油脂(oil)和快消(fast_moving)两种业务类型
2. **数据共享机制**：同业务类型内用户共享所有数据（供应商、订单、报价）
3. **用户管理限制**：禁用用户自注册，仅管理员可添加/删除用户
4. **管理员全权限**：管理员可查看操作所有业务类型数据

## 具体实现要求

### 1. 用户角色系统
- **管理员(admin)**: 全系统权限，可管理所有数据和用户
- **油脂业务(oil)**: 仅可访问油脂业务类型的数据
- **快消业务(fast_moving)**: 仅可访问快消业务类型的数据

### 2. 数据权限规则
- **供应商数据**: 按业务类型共享，同类型用户可增删改查
- **订单数据**: 按业务类型共享，同类型用户可增删改查  
- **报价数据**: 按业务类型共享，同类型用户可增删改查
- **用户管理**: 仅管理员可添加/删除用户账号

### 3. 系统改动范围
- 移除 `/register` 路由
- User模型添加业务类型字段
- 修改所有数据查询逻辑为按业务类型过滤
- 添加管理员用户管理界面
- 清理现有测试数据

### 4. 数据迁移
- 删除现有测试数据
- 保留admin账号
- 重新初始化数据库结构

## 预期效果
- 同业务类型团队协作更便利
- 数据共享提升工作效率
- 管理员集中用户管理
- 业务类型间数据隔离确保安全